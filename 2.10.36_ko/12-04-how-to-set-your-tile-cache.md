# 12.4. 타일 캐쉬 설정하는 방법(How to set your tile cache)
## 1. GIMP(김프)의 메모리 사용 구조
사진 편집이나 데이터 처리 과정 중에 GIMP(김프)는 많은 메모리가 필요합니다. GIMP(김프)는 운영체제의 여유 리소스를 최대한 사용하면서 사용자가 불편하지 않게 작업을 할 수 있도록 합니다. 작업 중의 데이터 메모리는 그래픽 데이터 블럭 버퍼로 구성됩니다. 그래픽 데이터 블럭 버퍼는 `느린 물리 디스크`나 `빠른 RAM 메모리`에 저장됩니다. `빠른 RAM 메모리`에 우선적으로 저장되며, `빠른 RAM 메모리`가 부족한 경우, `느린 물리 디스크`에 저장해 데이터를 참조하게 됩니다. 그래픽 데이터들은 "타일 시스템"의 일부인 "타일"을 참조합니다.

타일 캐쉬의 값을 낮게 잡으면 여유 메모리가 남아 있어도 `빠른 RAM 메모리`가 아닌 `느린 물리 디스크`를 사용하게 됩니다. 반대로 너무 높은 타일 캐쉬 값을 잡으면 다른 프로그램에 할당될 시스템 자원를 제한하게 되므로, 해당 프로그램들이 스왑 공간으로 `느린 물리 디스크`를 사용하게 됩니다. 또한 메모리 부족으로 프로그램이 종료되거나 실행이 안될 수 있습니다.

## 2. 적당한 타일 캐쉬 크기 찾기
그러면 어느 정도의 타일 캐쉬의 크기가 적당할까요? 다음 사항들을 참고하면 그 적정값을 정하는데 도움이 됩니다.

### 2-1. 기본값
컴퓨터에 메모리가 적을 경우(512MB 이하)에 사용됩니다. GIMP(김프) 외에 1~2개의 프로그램을 사용하면서 GIMP(김프)로 작은 이미지들을 편집하는 대부분의 사용자들이 사용하기 좋은 방법입니다. 따라서 GIMP(김프)를 이용해 스크린샷이나 로고 제작 등의 간단한 작업만을 할 경우에 가장 좋은 방법입니다.

### 2-2. 전체 메모리 절반 이상
512MB 이상의 메모리를 가진 컴퓨터를 가지고 있거나, 메모리 총량의 절반 정도를 타일 캐쉬로 할당한 정도라면, 다른 프로그램을 방해하지 않으면서도 좋은 작업 성능을 보여줄 것입니다. 

### 2-3. 다중 사용자 환경
다중 사용자 환경일 경우, 타일 캐쉬를 직접 설정해주어야 할 수도 있습니다. 이때에는 컴퓨터의 자원의 과도한 사용으로 인해 관리자나 다른 사용자들에게 불편을 주지 않으면서 GIMP(김프)를 원활하게 사용할 수 있는 적정값을 찾아야 합니다.

### 2-4. 최적화
타일 캐쉬 값을 하나씩 증가시켜가면서 시스템이 메모리 부족을 겪지 않으면서 최고의 성능을 발휘하는 값을 찾아냅니다. 메모리 부족 현상은 불시에 발생되어 다른 응용 프로그램을 강제로 종료시킬 수도 있습니다.

## 3. 타일 캐쉬값 직접 설정하기
타일 캐쉬값을 직접 설정한다고 가정해봅시다. 사용하는 컴퓨터에 대해 알고 있어야 합니다. 설치된 메모리의 총량, 운영 체제의 사용 가능한 스왑 공간 용량, 운영 체제의 스왑과 김프의 스왑 공간이 있는 디스크의 속도 등에 대해 알고 있어야 합니다. 그렇다고 해서 디스크를 테스트 해보거나 RPM을 측정해 볼 필요는 없습니다. 사용자의 입장에서 빠르게 혹은 느리게 느껴지는지 확인하면 됩니다. [`기본 설정` → `폴더` → `스왑 폴더`](./12-01-24-folders.md#12-01-24-s1-02)에서 GIMP(김프)의 스왑 폴더를 바꿀 수 있습니다.

그 다음 할 일은 김프와 동시에 사용할 프로그램들에 필요한 리소스 양을 확인하는 것입니다. GIMP(김프)를 제외한 다른 모든 프로그램들을 실행시키고, 몇 가지 동작을 해본 다음, 메모리 사용량을 확인합니다. 파일 캐쉬를 포함한 사용가능한 메모리를 확인합니다. 리눅스의 경우에는 [free 명령](https://www.whatap.io/ko/blog/37/)으로 사용가능한 메모리를 확인할 수 있습니다.

마지막으로 최종 결정을 위해 간단한 계산을 합니다. 여기서는 타일 캐쉬를 모두 `빠른 RAM 메모리`에 두거나, `빠른 RAM 메모리`과 `느린 물리 디스크`(스왑 공간)에 두는 것을 기본으로 합니다.

### 3-1. 여러 프로그램들을 바꿔쓰는 경우
1. `빠른 RAM 메모리`의 여유 공간을 확인합니다.
2. `빠른 RAM 메모리`의 여유 공간의 10%가 안정적인 타일 캐쉬 값입니다.

### 3-2. GIMP(김프)만 오래 사용하는 경우
1. `빠른 RAM 메모리`과 `느린 물리 디스크`(스왑 공간)의 여유분을 고려해야 합니다.
2. 운영 체제의 `느린 물리 디스크`(스왑 공간)과 GIMP(김프)의 `느린 물리 디스크`(스왑 공간)이 같은 디스크에 있나요? 그렇다면 `빠른 RAM 메모리`과 `느린 물리 디스크`를 더하세요. 그렇지 않다면 3번 과정으로 넘어가세요.
3. 운영 체제의 `느린 물리 디스크`(스왑 공간)의 디스크가 GIMP(김프)의 `느린 물리 디스크`(스왑 공간)의 디스크만큼 빠르거나 비슷한 속도인가요? 운영 체제의 `느린 물리 디스크`(스왑 공간)의 디스크가 더 느리다면, `빠른 RAM 메모리`만을 취합니다. 그렇지 않다면, `빠른 RAM 메모리`와 `느린 물리 디스크`(스왑 공간)을 더합니다.
4. 위 과정으로 계산한 총 여유 공간의 10%가 안정적인 타일 캐쉬 값입니다.

컴퓨터 사용 방식이 바뀌었거나, 하드웨어가 바뀌었을 경우, 위 과정을 통해서 새로운 타일 캐쉬 값을 계산해 적용해야 합니다.

## 4. `빠른 RAM 메모리`만을 사용하는 데 느린 경우
`빠른 RAM 메모리`만을 사용하는 데 느린 경우, `느린 물리 디스크`(스왑 공간)을 사용하지 말고, `빠른 RAM 메모리`의 크기를 늘립니다. 

다른 방법으로 `느린 물리 디스크`(스왑 공간)을 매우 빠른 디스크로 설정하거나, 자주 쓰는 파일이 있는 디스크가 아닌 다른 디스크로 설정하는 방법이 있습니다. 

더 많은 메모리를 추가하거나 한번에 여러 프로그램들을 같이 사용하지 않는 것도 좋은 방법입니다.

***

## 다른 페이지로 가기

[➡️ 다음: 12.5. 메뉴 단축키 설정하기(Creating shortcuts to menu commands)](./12-05-creating-shortcuts-to-menu-commands.md)

[⬅️ 이전: 12.3. 격자 만들기(Rendering a grid)](./12-03-rendering-a-grid.md)

[⬆️ 위: 12. 나만의 GIMP(김프) 만들기](./12-00-enrich-my-gimp.md)

[🏠 홈](./00-home.md)

[원문](https://docs.gimp.org/2.10/ko/gimp-using-setup-tile-cache.html)
