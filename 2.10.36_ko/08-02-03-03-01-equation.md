# 8.2.3.3.1. 곱하기(Multiply) 모드 방정식
`곱하기(Multiply)` 모드는 아래와 같은 방정식을 갖습니다.

#### 8.2.3.3.1.a2. 곱하기(Multiply) 모드 방정식 해석
```
Linear = ( RGB255 / 255 ) ^ 2.2

RGB255 = 255 * ( Linear ^ ( 1 / 2.2 ) )

최종 결과 RGB 값 = (아래쪽 레이어의 RGB 값 x 위쪽 레이어의 RGB 값) / 255
```

TODO Linear 

그럼 실제 사례를 살펴보겠습니다.

## 1. 첫번째 예제
#### 그림 8.2.3.3.1.a101. 곱하기(Multiply) 모드 예제
![08-02-03-03-layer_mode-darken-03-multiply-color_example-01(50%)](https://github.com/wonder13662/gimp/assets/15767104/847bd9eb-c5d0-4644-b435-0bae21b67dc1)

#### 그림 8.2.3.3.1.a102. 각 레이어별 RGB 값
![08-02-03-03-layer_mode-darken-03-multiply-color_example-01-sample_points(50%)-focus](https://github.com/wonder13662/gimp/assets/15767104/275a8496-e5c5-4c61-b425-becaebdd2fcd)

#### 표 8.2.3.3.1.a103. 레이어별 RGB 값

||마스크(위쪽 레이어)|배경 이미지(아래쪽 레이어)|레이어 모드 적용 결과|
|---|---|---|---|
|적색(Red)|249.0|255.0|**249.0**|
|녹색(Green)|251.0|0.0|**0.0**|
|청색(Blue)|10.0|255.0|**10.0**|

```
결과 값 RGB(Red)
= (249.0 x 255.0) / 255
= 249.0

결과 값 RGB(Green)
= (251.0 x 0.0) / 255
= 0.0

결과 값 RGB(Blue)
= (10.0 x 255.0) / 255
= 10.0
```

GIMP(김프)에서 실제로 레이어 모드를 적용한 RGB 값과 방정식 계산으로 얻은 최종 결과 RGB값이 같은 것을 확인할 수 있습니다.

## 2. 두번째 예제
#### 그림 8.2.3.3.1.a201. 곱하기(Multiply) 모드 예제
![08-02-03-03-layer_mode-darken-03-multiply-color_example-02(50%)](https://github.com/wonder13662/gimp/assets/15767104/f900747f-a44f-4abb-817c-30df117e1425)

#### 그림 8.2.3.3.1.a202. 각 레이어별 RGB 값
![08-02-03-03-layer_mode-darken-03-multiply-color_example-02-sample_points(50%)-focus](https://github.com/wonder13662/gimp/assets/15767104/3ec745f7-6092-4084-a458-694273a2b6c7)

#### 표 8.2.3.3.1.a203. 레이어별 RGB 값

||마스크(위쪽 레이어)|배경 이미지(아래쪽 레이어)|레이어 모드 적용 결과|
|---|---|---|---|
|적색(Red)|227.0|53.0|**46.0**|
|녹색(Green)|113.0|61.0|**21.0**|
|청색(Blue)|113.0|123.0|**51.0**|

### 2-1. RGB(Red) 구하기
```
Linear = ( RGB255 / 255 ) ^ 2.2

0.7742273142 = (227.0 / 255) ^ 2.2

0.0315513914 = (53.0 / 255) ^ 2.2

0.02442794902 = 0.7742273142 x 0.0315513914

RGB255 = 255 * ( Linear ^ ( 1 / 2.2 ) )

47.1803921537 = 255 * ( 0.02442794902 ^ ( 1 / 2.2 ) )

47.1803921569 = 255 * ( ((227.0 / 255) ^ 2.2 x (53.0 / 255) ^ 2.2) ^ ( 1 / 2.2 ) )
```

Linear light로 변환 뒤에 값을 구해도 오차의 문제는 여전히 남아 있다. 예시를 사용하기 어려움. 추후에 추가 검증이 필요함.

### 2-2. RGB 구하기
```
결과 값 RGB(Red)
= (227.0 x 53.0) / 255
= 47.1803921569
= 46.0 (TODO 값이 다름. 원인을 확인할 필요가 있다. 이것도 linear light?)

결과 값 RGB(Green)
= (113.0 x 61.0) / 255
= 27.03137254902
= 21.0 (TODO 값이 다름. 원인을 확인할 필요가 있다. 이것도 linear light?)

결과 값 RGB(Blue)
= (113.0 x 123.0) / 255
= 54.5058823529 (TODO 값이 다름. 원인을 확인할 필요가 있다. 이것도 linear light?)
```

GIMP(김프)에서 실제로 레이어 모드를 적용한 RGB 값과 방정식 계산으로 얻은 최종 결과 RGB값이 같은 것을 확인할 수 있습니다.

## 3. 세번째 예제 - 아래쪽 레이어가 검은색
#### 그림 8.2.3.3.1.a301. 곱하기(Multiply) 모드 예제
![08-02-03-02-layer_mode-darken-02-luma_darken_only-color_example-03-black(50%)](https://github.com/wonder13662/gimp/assets/15767104/84fce6a9-d1e7-4939-b7be-9735506ab355)

[이미지 메뉴 바](./03-02-02-02-image-menu.md)의 `색` → `무채화` → `무채화`로 휘도값을 가진 흑백이미지로 변경합니다.

#### 그림 8.2.3.3.1.a302. 각 레이어별 휘도 정보
![08-02-03-02-layer_mode-darken-02-luma_darken_only-color_example-03-BW_luminance(50%)-focus](https://github.com/wonder13662/gimp/assets/15767104/ce1a4d8e-af33-4dda-9557-d6b1be38c333)

||위쪽 레이어|아래쪽 레이어|
|---|---|---|
|적색(Red)|149.0|**0.0**|
|녹색(Green)|149.0|**0.0**|
|청색(Blue)|149.0|**0.0**|

```
선택된 휘도(Luminance) 값
= min(149.0, 0.0)
= 0.0
```

아래쪽 레이어의 휘도값(0.0)이 위쪽 레이어의 휘도값(149.0)보다 낮으므로 아래쪽 레이어의 RGB 값이 결과 이미지에 반영됩니다.

#### 그림 8.2.3.3.1.a303. 각 레이어별 RGB 값
![08-02-03-02-layer_mode-darken-02-luma_darken_only-color_example-03-sample_points(50%)-focus](https://github.com/wonder13662/gimp/assets/15767104/778d2218-73b4-4866-bb7e-4060633df5ac)

||마스크(위쪽 레이어)|배경 이미지(아래쪽 레이어)|레이어 모드 적용 결과|
|---|---|---|---|
|적색(Red)|227.0|**0.0**|**0.0**|
|녹색(Green)|113.0|**0.0**|**0.0**|
|청색(Blue)|113.0|**0.0**|**0.0**|

위 계산 결과를 통하여 휘도가 0.0로 더 어두운 `아래쪽 레이어`의 색상이 선택된 것을 확인할 수 있습니다.

## 4. 네번째 예제 - 아래쪽 레이어가 하얀색
#### 그림 8.2.3.3.1.a401. 곱하기(Multiply) 모드 예제
![08-02-03-02-layer_mode-darken-02-luma_darken_only-color_example-04-white(50%)](https://github.com/wonder13662/gimp/assets/15767104/b71d5afd-f643-42aa-b322-0f9a91cb633f)

[이미지 메뉴 바](./03-02-02-02-image-menu.md)의 `색` → `무채화` → `무채화`로 휘도값을 가진 흑백이미지로 변경합니다.

#### 그림 8.2.3.3.1.a402. 각 레이어별 휘도 정보
![08-02-03-02-layer_mode-darken-02-luma_darken_only-color_example-04-BW_luminance(50%)-focus](https://github.com/wonder13662/gimp/assets/15767104/035832f1-661c-478a-90eb-2c8d49d1114e)

||위쪽 레이어|아래쪽 레이어|
|---|---|---|
|적색(Red)|**149.0**|255.0|
|녹색(Green)|**149.0**|255.0|
|청색(Blue)|**149.0**|255.0|

```
선택된 휘도(Luminance) 값
= min(149.0, 255.0)
= 149.0
```

위쪽 레이어의 휘도값(149.0)이 아래쪽 레이어의 휘도값(255.0)이 보다 낮으므로 아래쪽 레이어의 RGB 값이 결과 이미지에 반영됩니다.

#### 그림 8.2.3.3.1.a403. 각 레이어별 RGB 값
![08-02-03-02-layer_mode-darken-02-luma_darken_only-color_example-04-sample_points(50%)-focus](https://github.com/wonder13662/gimp/assets/15767104/2c0bfddc-97d1-4fab-91cb-8c965106e6d1)

||마스크(위쪽 레이어)|배경 이미지(아래쪽 레이어)|레이어 모드 적용 결과|
|---|---|---|---|
|적색(Red)|**227.0**|255.0|**227.0**|
|녹색(Green)|**113.0**|255.0|**113.0**|
|청색(Blue)|**113.0**|255.0|**113.0**|

위 계산 결과를 통하여 휘도가 149.0로 더 어두운 `위쪽 레이어`의 색상이 선택된 것을 확인할 수 있습니다.

***

## 다른 페이지로 가기

[⬆️ 위: 8.2.3.3. 곱하기(Multiply)](./08-02-03-03-00-multiply.md)

[⬆️ 위: 8.2.3. 레이어 모드-어두움(Darken)](./08-02-03-00-darken-layer-modes.md)

[⬆️ 위: 8.2. 레이어 모드](./08-02-00-layer-modes.md)

[⬆️ 위: 8. 이미지 합치기(Combining Images)](./08-00-combining-images.md)

[🏠 홈](./00-home.md)

[원문](https://docs.gimp.org/2.10/ko/layer-mode-group-lighten.html)
